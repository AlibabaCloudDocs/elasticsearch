# 内核版本发布记录

在完全兼容开源Elasticsearch内核的所有特性基础上，阿里云Elasticsearch在监控指标多样化、线程池、熔断策略优化、查询与写入性能优化等诸多方面，深度定制了AliES内核引擎。基于阿里云Elasticsearch团队在多种应用场景下所积累的丰富经验，提升集群稳定性、增强性能、优化成本和丰富监控运维功能。本文介绍AliES的内核版本及重点优化的特性。

## 商业版7.10.0

|内核版本|发布说明|
|----|----|
|1.4.0|-   更新[aliyun-knn]()插件，优化写入性能，使写入性能相对于老版本有所提升；同时支持script查询，并集成了smind硬件优化后的指令，丰富了[向量检索]()功能。
-   增强[aliyun-qos](/cn.zh-CN/Elasticsearch/插件配置/系统默认插件/使用集群限流插件（aliyun-qos）.md)分布式限流插件功能，提供了集群级别的限流能力，使您无需再关注内部节点的实际拓扑和负载情况，各节点之间能够自适应分配流量比例，易用性与稳定性相比单机版QoS有显著提升。
-   支持[Indexing Service系列](/cn.zh-CN/产品简介/产品系列/日志增强版实例介绍/Indexing Service系列介绍.md)，提升租户集群稳定性。 |
|1.3.0|-   提供[慢查询隔离池](/cn.zh-CN/AliES内核/使用慢查询隔离池.md)，降低异常查询对集群稳定性的影响。
-   提供[gig流控插件](/cn.zh-CN/Elasticsearch/插件配置/系统默认插件/使用gig流控插件.md)，实现机器异常秒级切流，降低坏节点导致查询抖动的概率。

**说明：** 在商业版7.10.0中，gig流控插件默认集成在aliyun-qos集群限流插件中（默认已安装），不需要单独安装。

-   支持通用[物理复制](/cn.zh-CN/Elasticsearch/插件配置/系统默认插件/使用apack插件的物理复制功能.md)功能，提高有副本索引的写入性能。
-   支持[时序查询剪枝功能](/cn.zh-CN/AliES内核/使用时序查询剪枝功能.md)，提高含时序字段范围的查询性能。
-   支持查询[access.log](/cn.zh-CN/Elasticsearch/查询日志.md)，包括请求时间、客户端来源和请求内容等，可用于问题排查和请求分析。
-   [主节点调度性能提升10倍](https://developer.aliyun.com/article/745572?utm_content=g_1000115954)，支持调度更多分片数。 |

## 商业版6.7.0

|内核版本|发布说明|
|----|----|
|1.3.0|-   提供[慢查询隔离池](/cn.zh-CN/AliES内核/使用慢查询隔离池.md)，降低异常查询对集群稳定性的影响。
-   提供[gig流控插件](/cn.zh-CN/Elasticsearch/插件配置/系统默认插件/使用gig流控插件.md)，实现机器异常秒级切流，降低坏节点导致查询抖动的概率。

**说明：** 在使用以上功能时，需要先将内核版本升级至1.3.0版本，支持升级的版本包括：通用商业版0.3.0、1.0.2、1.3.0，不支持1.0.1。 |
|1.2.0|-   支持通用[物理复制](/cn.zh-CN/Elasticsearch/插件配置/系统默认插件/使用apack插件的物理复制功能.md)功能，提高有副本索引的写入性能。
-   支持[时序查询剪枝功能](/cn.zh-CN/AliES内核/使用时序查询剪枝功能.md)，提高含时序字段范围的查询性能。
-   支持主键查询去重优化，带主键文档的写入性能提升10%。
-   支持堆外FST，单节点支持存储最大20 TB的索引数据。 |
|1.0.2|支持查询[access.log](/cn.zh-CN/Elasticsearch/查询日志.md)，包括请求时间、客户端来源、请求内容等，可用于问题排查和请求分析。|
|1.0.1|支持配置JVM熔断策略，JVM达到95%后会拒绝请求保护集群，参数设置如下： -   indices.breaker.total.use\_real\_memory：默认为false。
-   indices.breaker.total.limit：默认为95%。 |
|0.3.0|-   [主节点调度性能提升10倍](https://developer.aliyun.com/article/745572?utm_content=g_1000115954)，支持调度更多分片数。
-   写入性能提升10%，降低translog落盘锁的开销。 |

