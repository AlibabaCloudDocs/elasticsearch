# 阿里云Elasticsearch与自建集群对比

阿里云Elasticsearch提供全托管式的Elasticsearch服务，100%兼容开源，针对性优化内核性能，提供免费的商业版X-Pack插件，即开即用。支持高可用服务、弹性伸缩和按量付费。本文介绍阿里云Elasticsearch与自建集群在整体成本、集群管控、能力支持、安全性和可用性方面的对比。

|对比项|阿里云Elasticsearch|ECS自建Elasticsearch|
|---|----------------|------------------|
|资源成本|-   阿里云Elasticsearch实例费用：例如集群中节点数为3个，每个节点规格为2核4 GB（elasticsearch.sn1ne.large），单节点存储空间为100 GB，所需费用约13000元/年。
-   支持弹性伸缩，可灵活变更节点规格、数量、磁盘类型和空间。

|-   ECS实例费用：例如购买3台2核4 GB（ecs.sn1ne.large）机器，数据盘为100 GB，所需费用约11200元/年。
-   需要面临高峰期洪峰时ECS供应链问题，低峰期的闲置可能造成资源浪费。 |
|网络费用|-   同一地域内通过内网互通，不收取费用。
-   不同地域内通过外网互通，不收取流量费用。阿里云Elasticsearch默认提供公网访问，带宽速度上限为4GB/s。

|-   同一地域内通过内网互通，不收取费用。
-   不同地域内通过外网互通，需自行承担外网流量费用。详细收费标准，请参见[公网带宽计费](/cn.zh-CN/产品计费/计费项/公网带宽计费.md)。 |
|人力/时间|-   阿里云ELK（Elasticsearch+Logstash+Kibana）全托管，开箱即用，按需付费。
-   白屏化集群运维和管控能力，极低的运维管理成本。

|-   自行购买机器，手动搭建Elasticsearch集群。迭代节奏慢，时间成本高。
-   需要自行进行资源管理和集群运维，需要专业的Elasticsearch工程师团队，人力成本高。 |
|风险成本|云服务保证99.9%的服务可靠性，极低的IT风险，对上层业务风险可控。|自建Elasticsearch集群无最低保障，需要极强的技术实力和较高的投入，才能降低业务风险。|
|功能成本|-   免费提供X-Pack商业插件的所有高级特性。
-   提供免费的OSS数据备份功能。

|-   需要付费购买价值5000美元的X-Pack商业套件。
-   自行备份，备份空间独立收费。 |

|对比项|阿里云Elasticsearch|ECS自建Elasticsearch|
|---|----------------|------------------|
|易用性|-   开箱即用，[弹性扩缩](/cn.zh-CN/Elasticsearch/升降配实例/弹性扩缩集群资源.md)，一键灵活调整集群配置。
-   支持一键[升级集群版本](/cn.zh-CN/Elasticsearch/版本升级/升级版本.md)。
-   [Eyou智能运维](/cn.zh-CN/Elasticsearch/运维/智能运维/智能运维系统概述.md)：支持集群、节点、索引等二十余个诊断项的健康检测，能够智能化地诊断并分析异常。
-   [高级监控报警服务](/cn.zh-CN/高级监控报警/高级监控报警概述.md)：通过Grafana提供更丰富的监控指标项，支持自定义报警规则并使用报警服务。

|-   部署操作复杂，需要手动调整资源。
-   集群版本升级前需要迁移数据。
-   运维难度高，需要通过命令查看集群、节点、索引等的健康状态。
-   仅有基础监控能力，复杂指标需要二次封装。 |
|场景能力支持|-   免费提供全部X-Pack高级商业特性。
-   支持[场景化配置模板](/cn.zh-CN/Elasticsearch/集群配置/场景化配置/修改场景化配置模板.md)，提供最优参数配置。
-   检索场景能力：提供达摩院NLP分词插件、[向量检索]()插件、自研SQL插件。
-   日志场景能力：支持冷热数据分离、提供索引压缩插件和[日志增强版实例](/cn.zh-CN/产品简介/产品系列/日志增强版实例介绍/共享弹性存储系列介绍.md)。

|需自行开发，或集成开源能力。|
|性能|-   深度定制增强[内核引擎](/cn.zh-CN/AliES内核/内核版本发布记录.md)，提升读写性能。
-   提供[日志增强版实例](/cn.zh-CN/产品简介/产品系列/日志增强版实例介绍/共享弹性存储系列介绍.md)。基于计算存储分离架构，性能更高，成本更低。

|需自行保障，技术实现难度大。|
|可用性|-   支持[数据自动备份](/cn.zh-CN/Elasticsearch/数据备份/自动备份与恢复.md)。
-   数据和服务可靠性达到99.9%。
-   通过自研[集群限流](/cn.zh-CN/Elasticsearch/插件配置/系统默认插件/使用集群限流插件（aliyun-qos）.md)插件、[慢查询隔离](/cn.zh-CN/AliES内核/使用慢查询隔离池.md)保障集群稳定性。
-   支持[多可用区部署](/cn.zh-CN/Elasticsearch/部署和使用跨可用区实例.md)，提供同城多活架构。

|-   需要手动备份数据，自行保障集群可用性。
-   容灾部署技术实现难度大。 |
|安全性|-   默认在专有网络环境下访问集群。
-   免费提供X-Pack安全组件。
-   支持字段级别的权限控制。
-   支持[HTTPS加密传输](/cn.zh-CN/Elasticsearch/安全配置/使用HTTPS协议.md)和数据存储加密。

|-   仅有ECS基本安全保障，集群安全风险较高。
-   X-Pack安全组件需独立购买。 |

