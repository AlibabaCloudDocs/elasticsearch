---
keyword: [ES自定义插件, 上传和安装自定义插件]
---

# 上传与安装自定义插件

当您需要使用自定义插件或系统默认插件中不包含的开源插件时，可通过阿里云Elasticsearch的自定义插件上传与安装功能，在实例中上传并安装对应插件。本文介绍具体的操作方法。

-   准备待上传的插件，并确保插件的可用性和安全性。

    插件文件格式要求：文件名只能包含大写字母、小写字母、数字、连接线（-）或点（.），长度为8~128位。文件后缀名必须是.zip。

    **说明：** 建议在上传插件前，先在本地自建Elasticsearch集群（与阿里云Elasticsearch相同版本）上进行测试，成功后再进行上传，具体操作步骤请参见[Installing Plugins](https://www.elastic.co/guide/en/elasticsearch/plugins/7.9/installation.html)。

-   如果您需要上传自定义的SQL插件，请确保已经将阿里云Elasticsearch实例的YML文件中的`xpack.sql.enabled`参数设置为`false`。

    具体配置方法请参见[修改YML参数配置](/intl.zh-CN/实例管理/ES集群配置/配置YML文件/修改YML参数配置.md)。


1.  登录[阿里云Elasticsearch控制台](https://elasticsearch.console.aliyun.com/#/home)。

2.  在左侧导航栏，单击**Elasticsearch实例**。

3.  在顶部菜单栏处，选择资源组和地域，然后在**实例列表**中单击目标实例ID。

4.  在左侧导航栏，单击**插件配置**。

5.  在**插件配置**页面，单击**自定义插件列表**页签，再单击**上传**。

    ![上传自定义插件入口](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/7846359951/p50444.png)

    **警告：** 上传自定义插件操作会触发实例重启，并且插件本身可能影响实例的稳定性，请务必保证自定义插件的可用性和安全性。

6.  在**上传插件**对话框中，单击**添加多个文件或将多个文件拖放到此区域**，选择待上传的插件，单击打开。

    您也可以将自定义的插件文件直接拖放到指定区域，完成添加。如下图成功添加了文件名为elasticsearch-sql-6.7.0.0.zip的自定义插件。

    ![插件上传对话框](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/7846359951/p50445.png)

7.  阅读并勾选对话框中的注意事项，单击**上传安装**。

    上传安装插件会触发实例重启。重启成功后，如果在**自定义插件列表**中看到您上传的插件，且**状态**显示为**已安装**，表示插件上传并安装成功。

    ![安装成功的插件](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/7846359951/p50464.png)

    如果您不再使用此插件，可单击插件右侧的**卸载**，卸载此插件。详细操作方法及注意事项请参见[安装或卸载系统默认插件](/intl.zh-CN/实例管理/插件配置/系统默认插件/安装或卸载系统默认插件.md)。

    **说明：**

    -   在上传与安装自定义插件时，如果出现控制台报错、变更卡住、无法验证通过或其他异常问题，可参见[自定义插件安装错误的排查与解决方法](/intl.zh-CN/常见问题/自定义插件安装错误的排查与解决方法.md)进行排查解决。
    -   阿里云Elasticsearch升级时插件不会自动升级更新，需要重新上传。
    -   自定义插件不能访问外网。

